<!-- 
This configuration shows the questions in a single column
<div class="p-4">
  <p-scrollpanel #scrollPanel [style]="{ width: '100%', height: '70vh' }" styleClass="custom-scrollpanel">
    <div class="pt-4 pb-8 px-2">
      <p-card 
        [header]="question.question" 
        [style]="{ 'margin': '1rem 2rem' }" 
        *ngFor="let question of questions"
        styleClass="mb-4">
        <ul>
          <li *ngFor="let answer of question.answers" class="mb-2">
            <p-radiobutton
              name="question-{{ question.question }}"
              [value]="true" 
              [(ngModel)]="answer.is_correct"
              inputId="answer-{{ answer.text }}"
            ></p-radiobutton>
            <label for="answer-{{ answer.text }}" class="ml-2">{{ answer.text }}</label>
          </li>
        </ul>
      </p-card>
      
      <div class="flex justify-center mt-6 mb-2">
        <p-button 
          label="Export Exam" 
          icon="pi pi-arrow-right" 
          iconPos="right" 
          (click)="exportExam()">
        </p-button>
      </div>
    </div>
  </p-scrollpanel>
  
  <p-dialog 
    [draggable]="false" 
    [modal]="true" 
    [(visible)]="dialogFormVisible">
    <app-export-exam-dialog [formsUrl]="formsUrl"></app-export-exam-dialog>
  </p-dialog>
    <p-dialog 
    [draggable]="false" 
    [modal]="true" 
    [(visible)]="dialogVisible" 
    [style]="{ width: '20vw' }"
    closeOnEscape="false" 
    closable="false">
    <div class="flex justify-center">
      <p-progress-spinner ariaLabel="loading" />
    </div>
  </p-dialog>
</div> -->


 <!-- This configuration shows the questions in 2 columns -->
<div class="p-4">
  <p-scrollpanel #scrollPanel [style]="{ width: '100%', height: '70vh' }" styleClass="custom-scrollpanel">
    <div class="pt-4 pb-8 px-2">
     
      <div class="flex gap-6 mt-6 mb-2">
        <p-floatlabel>
            <input pInputText id="title_exam" [(ngModel)]="formTitle" autocomplete="off" />
            <label for="title_exam">Title exam</label>
        </p-floatlabel>
        <p-button 
          label="Export Exam" 
          icon="pi pi-arrow-right" 
          iconPos="right" 
          (click)="exportExam()">
        </p-button>


      </div>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
        
        <p-card 
          [header]="question.question" 
          *ngFor="let question of questions"
          styleClass="mb-4 h-full flex flex-col"
        >
          <div class="flex flex-col h-full">
            <ul class="flex-1">
              <li *ngFor="let answer of question.answers" class="mb-2">
                <p-radiobutton
                  *ngIf="question.type == 1"
                  name="question-{{ question.question }}"
                  [value]="true" 
                  [(ngModel)]="answer.is_correct"
                  inputId="answer-{{ answer.text }}"
                ></p-radiobutton>

                <p-checkbox
                  *ngIf="question.type == 2"
                  [(ngModel)]="answer.is_correct"
                  binary="true"
                ></p-checkbox>
                <label for="answer-{{ answer.text }}" class="ml-2">{{ answer.text }}</label>
              </li>
            </ul>
          </div>
        </p-card>
      </div>
      


    </div>
  </p-scrollpanel>
  

  <p-dialog 
    [draggable]="false" 
    [modal]="true" 
    [(visible)]="dialogFormVisible">
    <app-export-exam-dialog [formsUrl]="formsUrl" [questions]="questions"></app-export-exam-dialog>
  </p-dialog>
  

  <p-dialog 
    [draggable]="false" 
    [modal]="true" 
    [(visible)]="dialogVisible" 
    [style]="{ width: '20vw' }"
    closeOnEscape="false" 
    closable="false">
    <div class="flex justify-center">
      <p-progress-spinner ariaLabel="loading" />
    </div>
  </p-dialog>
</div>
 